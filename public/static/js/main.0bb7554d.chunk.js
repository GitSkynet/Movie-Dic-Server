(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{38:function(e,t,a){e.exports=a(69)},43:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),s=a.n(c),l=a(16),i=a(3),o=a(4),u=a(6),m=a(5),p=(a(43),a(9)),d=a(19),v=a.n(d),h=new(function(){function e(){Object(i.a)(this,e),this.auth=v.a.create({baseURL:"http://localhost:4000",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/signup",{username:t,password:a}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),g=r.a.createContext(),f=g.Consumer,E=g.Provider,b=function(e){return function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(f,null,(function(a){var n=a.login,c=a.signup,s=a.user,l=a.logout,i=a.isLoggedin;return r.a.createElement(e,Object.assign({login:n,signup:c,user:s,logout:l,isLoggedin:i},t.props))}))}}]),n}(r.a.Component)},_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0},e.signup=function(t){var a=t.username,n=t.password;h.signup({username:a,password:n}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var a=t.response;return e.setState({message:a.data.statusMessage})}))},e.login=function(t){var a=t.username,n=t.password;h.login({username:a,password:n}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(e){return console.log(e)}))},e.logout=function(){h.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,c=this.login,s=this.logout,l=this.signup;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(E,{value:{isLoggedin:a,user:n,login:c,logout:s,signup:l}},this.props.children)}}]),a}(r.a.Component),y=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logout,a=e.isLoggedin;return r.a.createElement("header",{className:"header"},r.a.createElement("a",{href:"/",className:"logo"},r.a.createElement("img",{className:"logo-nav",src:"./Logos/cola.png",width:"40",height:"40"})),r.a.createElement("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),r.a.createElement("label",{className:"menu-icon",htmlFor:"menu-btn"},r.a.createElement("span",{className:"navicon"})),r.a.createElement("ul",{className:"menu"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{href:"/popular"},"Most Popular")),r.a.createElement("li",null,r.a.createElement("a",{href:"/movies"},"All Movies")),r.a.createElement("li",null,r.a.createElement("a",{href:"/private"},"My profile")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"navbar-button",onClick:t},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{href:"/login"},"LogIn")),r.a.createElement("li",null,r.a.createElement("a",{href:"/signup"},"Sign Up")))))}}]),a}(n.Component)),O=a(7),w=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.signup({username:n,password:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n=this.state,c=n.username,s=n.password;return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"img"},r.a.createElement("img",{src:"https://raw.githubusercontent.com/sefyudem/Responsive-Login-Form/82b8d8efd3b0ac6382b9d0d71a99c6cf9dcefa23/img/bg.svg"})),r.a.createElement("div",{class:"login-content"},r.a.createElement("form",{action:"index.html",onSubmit:this.handleFormSubmit},r.a.createElement("img",{src:"https://raw.githubusercontent.com/sefyudem/Responsive-Login-Form/82b8d8efd3b0ac6382b9d0d71a99c6cf9dcefa23/img/avatar.svg"}),r.a.createElement("h2",{class:"title"},"SIGN UP"),r.a.createElement("div",{class:"input-div one"},r.a.createElement("div",{class:"i"},r.a.createElement("i",{class:"fas fa-user"})),r.a.createElement("div",{class:"div"},r.a.createElement("input",(e={type:"text",class:"input"},Object(O.a)(e,"type","text"),Object(O.a)(e,"name","username"),Object(O.a)(e,"value",c),Object(O.a)(e,"onChange",this.handleChange),Object(O.a)(e,"placeholder","Username"),e)))),r.a.createElement("div",{class:"input-div pass"},r.a.createElement("div",{class:"i"},r.a.createElement("i",{class:"fas fa-lock"})),r.a.createElement("div",{class:"div"},r.a.createElement("input",(t={type:"password",class:"input"},Object(O.a)(t,"type","password"),Object(O.a)(t,"name","password"),Object(O.a)(t,"value",s),Object(O.a)(t,"onChange",this.handleChange),Object(O.a)(t,"placeholder","Password"),t)))),r.a.createElement("a",{href:"/login"},"Already have an account? Log In!!"),r.a.createElement("input",(a={type:"submit",class:"btn"},Object(O.a)(a,"type","submit"),Object(O.a)(a,"value","SIGN UP"),a)))))}}]),a}(n.Component)),j=(a(60),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.login({username:n,password:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n=this.state,c=n.username,s=n.password;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"https://raw.githubusercontent.com/sefyudem/Responsive-Login-Form/82b8d8efd3b0ac6382b9d0d71a99c6cf9dcefa23/img/bg.svg"})),r.a.createElement("div",{className:"login-content"},r.a.createElement("form",{action:"index.html",onSubmit:this.handleFormSubmit},r.a.createElement("img",{src:"https://raw.githubusercontent.com/sefyudem/Responsive-Login-Form/82b8d8efd3b0ac6382b9d0d71a99c6cf9dcefa23/img/avatar.svg"}),r.a.createElement("h2",{className:"title"},"LOG IN"),r.a.createElement("div",{className:"input-div one"},r.a.createElement("div",{className:"i"}),r.a.createElement("div",{className:"div"},r.a.createElement("input",(e={type:"text",className:"input"},Object(O.a)(e,"type","text"),Object(O.a)(e,"name","username"),Object(O.a)(e,"value",c),Object(O.a)(e,"onChange",this.handleChange),Object(O.a)(e,"placeholder","Username"),e)))),r.a.createElement("div",{className:"input-div pass"},r.a.createElement("div",{className:"i"}),r.a.createElement("div",{className:"div"},r.a.createElement("input",(t={type:"password",className:"input"},Object(O.a)(t,"type","password"),Object(O.a)(t,"name","password"),Object(O.a)(t,"value",s),Object(O.a)(t,"onChange",this.handleChange),Object(O.a)(t,"placeholder","Password"),t)))),r.a.createElement("a",{href:"/signup"},"You don't have an account? Sign In!!"),r.a.createElement("input",(a={type:"submit",className:"btn"},Object(O.a)(a,"type","submit"),Object(O.a)(a,"value","Log in"),a)))))}}]),a}(n.Component))),N=a(1),k=a.n(N),C=a(2),x=new function e(){var t=this;Object(i.a)(this,e),this.handleUpload=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("file in service: ",a),e.prev=1,e.next=4,t.service.post("/upload",a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUpload2=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("file in service: ",a),e.prev=1,e.next=4,t.service.post("/upload2",a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.saveNewMovie=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new thing is: ",a),e.prev=1,e.next=4,t.service.post("/create",a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.updatedMovie=function(){var e=Object(C.a)(k.a.mark((function e(a,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updated movie is: ",a),e.prev=1,e.next=4,t.service.post("/upload/"+n,{updatedMovie:a});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),this.getMostPopular=Object(C.a)(k.a.mark((function e(){var a,n,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,e.next=4,t.service.get("/popular?page="+a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),this.getAllMovies=Object(C.a)(k.a.mark((function e(){var a,n,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,e.next=4,t.service.get("/allmovies?page="+a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),this.searchMovie=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/search?find="+a);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.getDBmovies=Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/movies");case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.getRandom=Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/random");case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.getDetailsMovie=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/details/"+a);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteMovie=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/delete/"+a);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.getProfileUser=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/private");case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.getFavId=function(){var e=Object(C.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/private/favorite/".concat(a));case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.addToFavourite=function(){var e=Object(C.a)(k.a.mark((function e(a,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/private/favorite",{movieId:a,userId:n});case 3:return r=e.sent,console.log("A\xd1ADIDO A FAVORITO? CONSOLE LOG RES.DATA DE SERVICE CLIENT",r.data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),this.getCarrouselMovies=Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/movies/carrousel");case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.getCarrouselMovies2=Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/movies/carrousel2");case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.getCarrouselMovies3=Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/movies/carrousel3");case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.service=v.a.create({baseURL:"http://localhost:4000/movies"})},S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:{},movies:[],favorites:[]},e.getProfileUser=Object(C.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getProfileUser(e.props.user);case 2:t.sent,e.setState({user:e.props.user});case 4:case"end":return t.stop()}}),t)}))),e.getFavId=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getFavId(e.props.user._id);case 2:a=t.sent,e.setState({favorites:a.favorites});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getProfileUser(),e.getFavId()},e}return Object(o.a)(a,[{key:"render",value:function(){return console.log("ARRAY FAVORITEEEEEEEEEEEEEEEEESSSSS",this.state.favorites),r.a.createElement("div",{className:"row__inner"},r.a.createElement("br",null),this.state.favorites.map((function(e){return r.a.createElement("div",{className:"tile",key:e._id},r.a.createElement("div",{className:"tile__media"},r.a.createElement("img",{className:"tile__img",src:e.poster,alt:""})),r.a.createElement("div",{className:"tile__title"},r.a.createElement("a",{href:"/details/".concat(e._id)},"Details")))})))}}]),a}(n.Component),M=a(11),A=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],user:[]},e.getProfileUser=Object(C.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getProfileUser(e.props.user._id);case 2:t.sent,e.setState({user:e.props.user});case 4:case"end":return t.stop()}}),t)}))),e.getAllMovies=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getAllMovies();case 2:a=t.sent,e.setState({movies:a}),console.log("MOVIES PRIVATE JS",e.state.movies);case 5:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getProfileUser(),e.getAllMovies()},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container2"},r.a.createElement("div",{className:"container3"},r.a.createElement("div",{className:"hola"}),r.a.createElement("h1",{className:"h1-align"},"Welcome ",this.props.user.username),r.a.createElement("div",{className:"img-align-profile"}," ",r.a.createElement("img",{src:this.props.user.image,style:{borderRadius:"120px"},alt:"imagen",width:"250",height:"250"})),r.a.createElement("p",{className:"p-align"},"Again around here ",r.a.createElement("strong",null,this.props.user.username," "),"we are glad to see you again, you can now search our sea of \u200b\u200bmovies. Don't forget the wellies. "),r.a.createElement("article",{className:"btn-myrpfile"},r.a.createElement("div",{className:"align-btn-profile"},r.a.createElement("a",{href:"/create"},r.a.createElement(M.a,{variant:"primary",size:"sm",active:!0},"Add movie")),r.a.createElement("a",{href:"/random"},r.a.createElement(M.a,{variant:"primary",size:"sm",active:!0},"Random movie"))))),r.a.createElement("div",{className:"container3"},r.a.createElement("h1",{className:"home-txt-carrousel"},"Your favourites: "),r.a.createElement(S,{user:this.props.user})))}}]),a}(n.Component)),F=a(20);var D=b((function(e){var t=e.component,a=e.isLoggedin,n=Object(F.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(p.a,{to:"/private"}):r.a.createElement(t,e)}}))}));var L=b((function(e){var t=e.component,a=e.isLoggedin,n=Object(F.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),R=(a(68),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.getCarrouselMovies=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getCarrouselMovies();case 2:a=t.sent,e.setState({movies:a});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getCarrouselMovies()},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row__inner"},r.a.createElement("div",{className:"title-carrousel"},r.a.createElement("h1",{className:"home-txt-carrousel"},"Most rated:")),this.state.movies.map((function(e){return r.a.createElement("div",{className:"tile",key:e._id},r.a.createElement("div",{className:"tile__media"},r.a.createElement("img",{className:"tile__img",src:e.poster,alt:""})),r.a.createElement("div",{className:"tile__title"},r.a.createElement("a",{href:"/details/".concat(e._id)},"More Details")))})))}}]),a}(n.Component)),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.getCarrouselMovies2=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getCarrouselMovies2();case 2:a=t.sent,e.setState({movies:a});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getCarrouselMovies2()},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row__inner"},r.a.createElement("div",{className:"title-carrousel"},r.a.createElement("h1",{className:"home-txt-carrousel"},"Most popular:")),this.state.movies.map((function(e){return r.a.createElement("div",{className:"tile",key:e._id},r.a.createElement("div",{className:"tile__media"},r.a.createElement("img",{className:"tile__img",src:e.poster,alt:""})),r.a.createElement("div",{className:"tile__title"},r.a.createElement("a",{href:"/details/".concat(e._id)},"More Details")))})))}}]),a}(n.Component),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.getCarrouselMovies3=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getCarrouselMovies3();case 2:a=t.sent,e.setState({movies:a});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getCarrouselMovies3()},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row__inner"},r.a.createElement("div",{className:"title-carrousel"},r.a.createElement("h1",{className:"home-txt-carrousel"},"Most voted:")),this.state.movies.map((function(e){return r.a.createElement("div",{className:"tile",key:e._id},r.a.createElement("div",{className:"tile__media"},r.a.createElement("img",{className:"tile__img",src:e.poster,alt:""})),r.a.createElement("div",{className:"tile__title"},r.a.createElement("a",{href:"/details/".concat(e._id)},"More Details")))})))}}]),a}(n.Component),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){var a=t.target.value;console.log("EVENT TARGET SERACHBAR JSSSSS",t.target),a?e.props.filterSearch(a):e.props.clearSearch()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-div"},r.a.createElement("input",{type:"text",name:"name",onChange:function(t){return e.handleChange(t)},placeholder:"Search Movie..."}))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-section"},r.a.createElement("div",{className:"align-random"},r.a.createElement("a",{href:"/details/".concat(this.props.theMovie._id)},r.a.createElement("div",{className:"cover-movie",style:{backgroundImage:"url(".concat(this.props.theMovie.poster,")")}}))))}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],user:[],filterMovies:[]},e.filterSearch=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.toLowerCase(),t.next=3,x.searchMovie(n);case 3:r=t.sent,a&&e.setState({filterMovies:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.clearSearch=function(){e.setState({filterMovies:[]})},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container2"},r.a.createElement("div",{className:"home-section"},r.a.createElement("h1",null,"WELCOME!"),r.a.createElement("h3",null,"The best movies in the world are now within your reach!"),r.a.createElement(P,{filterSearch:this.filterSearch,clearSearch:this.clearSearch})),this.state.filterMovies&&this.state.filterMovies.map((function(e,t){return r.a.createElement(T,{key:t,theMovie:e})})),r.a.createElement(R,null),r.a.createElement(I,null),r.a.createElement(U,null))}}]),a}(n.Component),V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{onClick:e.paginaAnterior,className:"primary",variant:"primary",size:"sm",active:!0},"\u2190 Anterior"),r.a.createElement(M.a,{onClick:e.paginaSiguiente,variant:"primary",size:"sm",active:!0},"Siguiente \u2192"))},B=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],pagina:""},e.getMostPopular=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getMostPopular(e.state.pagina);case 2:a=t.sent,e.setState({movies:a});case 4:case"end":return t.stop()}}),t)}))),e.paginaAnterior=function(){var t=e.state.pagina;if(0===t)return null;t--,e.setState({pagina:t})},e.paginaSiguiente=function(){var t=e.state.pagina;t++,e.setState({pagina:t})},e.addToFavourite=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user._id,console.log("USERID DE MOSTPOPULAAARRRRRR",n),t.next=4,x.addToFavourite(a,n);case 4:r=t.sent,e.setState({favorite:r}),console.log("FAVORITO STATE MOSTPOPULAR!!!!",e.state);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=function(){e.getMostPopular()},e.componentDidUpdate=function(){e.getMostPopular()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container2"},r.a.createElement("h2",null,"MOST POPULAR PAGE"),this.state.movies.map((function(t){return r.a.createElement("div",{key:t._id,className:"movie_card",id:"bright",style:{backgroundImage:"url(".concat(t.fan_art,")"),backgroundSize:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{className:"info_section"},r.a.createElement("div",{className:"movie_header"},r.a.createElement("img",{className:"locandina",src:t.poster,alt:t.movie_title}),r.a.createElement("h4",null,t.movie_title),r.a.createElement("h4",null,t.title_year,", ",t.director_name),r.a.createElement("span",{className:"minutes"},t.duration," min"),r.a.createElement("p",{className:"type"},t.genres)),r.a.createElement("div",{className:"movie_desc"},r.a.createElement("p",{className:"text"},t.description)),r.a.createElement("div",{className:"movie_social"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/upload/".concat(t._id),className:"material-icons"},"Update movie")),r.a.createElement("li",null,r.a.createElement("a",{href:"/details/".concat(t._id),className:"material-icons"},"More Details")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return e.addToFavourite(t._id)},className:"material-fav"},"Add to fav"))))))})),r.a.createElement("div",{className:"align-delete"},r.a.createElement(V,{paginaAnterior:this.paginaAnterior,paginaSiguiente:this.paginaSiguiente})))}}]),a}(n.Component)),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.getRandom=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getRandom();case 2:a=t.sent,e.setState({movies:a}),console.log("MOVIE random?",e.state.movies.movie_title);case 5:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getRandom()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.movies;return r.a.createElement("div",{classname:"background-details",style:{backgroundImage:"url(".concat(t.fan_art,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{className:"padding-top-details"}," "),r.a.createElement("div",{class:"cellphone-container"},r.a.createElement("div",{class:"movie2"},r.a.createElement("div",{class:"movie-img",style:{backgroundImage:"url(".concat(this.state.movies.poster,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),r.a.createElement("div",{class:"text-movie-cont"},r.a.createElement("div",{class:"mr-grid"},r.a.createElement("div",{class:"coll1"},r.a.createElement("h1",null,t.movie_title),r.a.createElement("ul",{class:"movie-gen"},r.a.createElement("li",null,t.content_rating,"  /"),r.a.createElement("li",null,t.duration," min  /"),r.a.createElement("li",null,t.genres)))),r.a.createElement("div",{class:"mr-grid summary-row"},r.a.createElement("div",{class:"col2"},r.a.createElement("h5",{className:" h5-details"},"SUMMARY")),r.a.createElement("div",{class:"col2"},r.a.createElement("ul",{class:"movie-likes"},r.a.createElement("li",null,"Likes: ",t.num_voted_users)))),r.a.createElement("div",{class:"mr-grid"},r.a.createElement("div",{class:"col1"},r.a.createElement("p",{class:"movie-description"},t.description))),r.a.createElement("div",{class:"mr-grid actors-row"},r.a.createElement("div",{class:"col1"},r.a.createElement("p",{class:"movie-actors"},"Director: ",t.director_name),r.a.createElement("p",{class:"movie-actors"},"Actors: ",t.actor_1_name,", ",t.actor_2_name,", ",t.actor_3_name),r.a.createElement("p",{class:"movie-actors"},"Imdb Score: ",t.imdb_score)))))),r.a.createElement("div",{className:"align-delete"},r.a.createElement(M.a,{className:"primary",variant:"primary",size:"sm",active:!0,onClick:function(){return e.getRandom(t._id)}},"Another please!")))}}]),a}(n.Component),J=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],pagina:""},e.getAllMovies=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getAllMovies(e.state.pagina);case 2:a=t.sent,e.setState({movies:a});case 4:case"end":return t.stop()}}),t)}))),e.paginaAnterior=function(){console.log("Anterior....");var t=e.state.pagina;if(0===t)return null;t--,e.setState({pagina:t})},e.paginaSiguiente=function(){console.log("Siguiente...."),console.log("PROPS USER ALLMOVIES",e.props);var t=e.state.pagina;t++,e.setState({pagina:t})},e.addToFavourite=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user._id,console.log("USERID DE ALLMOVIES",e.props.user),t.next=4,x.addToFavourite(a,n);case 4:r=t.sent,e.setState({favorite:r}),console.log("FAVORITO STATE ALLMOVIES!!!!!!",e.state);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=function(){e.getAllMovies()},e.componentDidUpdate=function(){e.getAllMovies()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container2"},r.a.createElement("h2",null,"All Movies"),this.state.movies.map((function(t){return r.a.createElement("div",{key:t._id,className:"movie_card",id:"bright",style:{backgroundImage:"url(".concat(t.fan_art,")"),backgroundSize:"100%",backgroundPosition:"cover",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{className:"info_section"},r.a.createElement("div",{className:"movie_header"},r.a.createElement("img",{className:"locandina",src:t.poster}),r.a.createElement("h4",null,t.movie_title),r.a.createElement("h4",null,t.title_year,", ",t.director_name),r.a.createElement("span",{className:"minutes"},t.duration," min"),r.a.createElement("p",{className:"type"},t.genres)),r.a.createElement("div",{className:"movie_desc"},r.a.createElement("p",{className:"text"},t.description)),r.a.createElement("div",{className:"movie_social"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/upload/".concat(t._id),className:"material-icons"},"Edit Movie")),r.a.createElement("li",null,r.a.createElement("a",{href:"/details/".concat(t._id)},"More Details")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return e.addToFavourite(t._id)},className:"material-fav"},"Add to fav"))))),r.a.createElement("div",{className:"blur_back bright_back"}))})),r.a.createElement("div",{className:"align-delete"},r.a.createElement(V,{paginaAnterior:this.paginaAnterior,paginaSiguiente:this.paginaSiguiente})))}}]),a}(n.Component)),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie_title:"",description:"",poster:"",genres:"",director_name:"",content_rating:"",country:"",language:"",movie_imdb_link:"",title_year:"",imdb_score:"",actor_1_name:"",actor_2_name:"",actor_3_name:"",fan_art:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleFileUpload=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("the file to be uploaded is: ",a.target.files[0]),(n=new FormData).append("poster",a.target.files[0]),t.prev=3,t.next=6,x.handleUpload(n);case 6:r=t.sent,console.log("response is",r),e.setState({poster:r.secure_url}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleFileUpload2=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("the file to be uploaded is: ",a.target.files[0]),(n=new FormData).append("fan_art",a.target.files[0]),t.prev=3,t.next=6,x.handleUpload2(n);case 6:r=t.sent,console.log("response is",r),e.setState({fan_art:r.secure_url}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(C.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,x.saveNewMovie(e.state);case 4:n=t.sent,console.log("added",n),e.setState({movie_title:"",description:"",poster:"",genres:"",director_name:"",content_rating:"",country:"",language:"",movie_imdb_link:"",title_year:"",imdb_score:"",actor_1_name:"",actor_2_name:"",actor_3_name:"",fan_art:""}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Error while adding the movie: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"edit-form"},r.a.createElement("h2",null,"New Movie"),r.a.createElement("label",{htmlFor:""},"Name"),r.a.createElement("input",{className:"input",type:"text",name:"movie_title",value:this.state.movie_title,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Genre"),r.a.createElement("input",{className:"input",type:"text",name:"genres",value:this.state.genres,placeholder:this.state.genres,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Director Name: "),r.a.createElement("input",{className:"input",type:"text",name:"director_name",value:this.state.director_name,placeholder:this.state.director_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Description: "),r.a.createElement("textarea",{type:"textarea",rows:"10",cols:"50",name:"description",value:this.state.description,textarea:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Rating: "),r.a.createElement("input",{className:"input",type:"text",name:"content_rating",value:this.state.content_rating,placeholder:this.content_rating,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Country: "),r.a.createElement("input",{className:"input",type:"text",name:"country",value:this.state.country,placeholder:this.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Language: "),r.a.createElement("input",{className:"input",type:"text",name:"language",value:this.state.language,placeholder:this.language,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"IMDB Link:"),r.a.createElement("input",{className:"input",type:"text",name:"movie_imdb_link",value:this.state.movie_imdb_link,placeholder:this.movie_imdb_link,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Actor 1 name:"),r.a.createElement("input",{className:"input",type:"text",name:"actor_1_name",value:this.state.actor_1_name,placeholder:this.actor_1_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Actor 2 name:"),r.a.createElement("input",{className:"input",type:"text",name:"actor_2_name",value:this.state.actor_2_name,placeholder:this.actor_2_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Actor 3 name:"),r.a.createElement("input",{className:"input",type:"text",name:"actor_3_name",value:this.state.actor_3_name,placeholder:this.actor_3_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"IMDB Score:"),r.a.createElement("input",{className:"input",type:"text",name:"imdb_score",value:this.state.imdb_score,placeholder:this.imdb_score,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Year:"),r.a.createElement("input",{className:"input",type:"text",name:"title_year",value:this.state.title_year,placeholder:this.title_year,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Select poster:"),r.a.createElement("input",{className:"input",type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("label",{htmlFor:""},"Select fan art:"),r.a.createElement("input",{className:"input",type:"file",onChange:function(t){return e.handleFileUpload2(t)}}),r.a.createElement(M.a,{variant:"primary",size:"sm",active:!0,type:"submit"},"Save new movie")))}}]),a}(n.Component);function H(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer-distributed"},r.a.createElement("div",{className:"footer-left"},r.a.createElement("h3",null,"Movie",r.a.createElement("span",null,"Dic")),r.a.createElement("p",{className:"footer-company-name"},"Jos\xe9 Blasco & Carlos Curtido\xae 2020")),r.a.createElement("div",{className:"footer-center"},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-map-marker"}),r.a.createElement("p",null,r.a.createElement("span",null,"IronHack Barcelona"),"Spain")),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-phone"}),r.a.createElement("p",null,"667000000")),r.a.createElement("div",null,r.a.createElement("i",{classNameName:"fa fa-envelope"}),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:support@company.com"},"MovieDic@j&c.com")))),r.a.createElement("div",{className:"footer-right"},r.a.createElement("div",{className:"footer-icons"},r.a.createElement("a",{href:"https://www.facebook.com/",target:"_blank"},r.a.createElement("i",{className:"fa fa-facebook"})),r.a.createElement("a",{href:"https://www.twitter.com/",target:"_blank"},r.a.createElement("i",{className:"fa fa-twitter"})),r.a.createElement("a",{href:"https://www.linkedin.com/",target:"_blank"},r.a.createElement("i",{className:"fa fa-linkedin"})),r.a.createElement("a",{href:"https://www.github.com/",target:"_blank"},r.a.createElement("i",{className:"fa fa-github"}))))))}var W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie_title:"",description:"",poster:"",genres:"",director_name:"",content_rating:"",country:"",language:"",movie_imdb_link:"",title_year:"",imdb_score:"",fan_art:""},e.getDetailsMovie=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getDetailsMovie(e.props.match.params.id);case 2:a=t.sent,e.setState({movie_title:a.movie_title,description:a.description,poster:a.poster,genres:a.genres,director_name:a.director_name,content_rating:a.content_rating,country:a.country,language:a.language,movie_imdb_link:a.movie_imdb_link,actor_1_name:a.actor_1_name,actor_2_name:a.actor_2_name,actor_3_name:a.actor_3_name,title_year:a.title_year,imdb_score:a.imdb_score,fan_art:a.fan_art});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getDetailsMovie()},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleFileUpload=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("the file to be uploaded is: "),a.target.files[0],(n=new FormData).append("poster",a.target.files[0]),t.prev=4,t.next=7,x.handleUpload(n);case 7:r=t.sent,e.setState({poster:r.secure_url}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("Error while uploading the file: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleFileUpload2=function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("the file to be uploaded is: ",a.target.files[0]),(n=new FormData).append("fan_art",a.target.files[0]),t.prev=3,t.next=6,x.handleUpload2(n);case 6:r=t.sent,console.log("response is",r),e.setState({fan_art:r.secure_url}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(C.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,x.updatedMovie(e.state,e.props.match.params.id);case 4:t.sent,e.setState({movie_title:"",description:"",poster:"",genres:"",director_name:"",content_rating:"",country:"",language:"",movie_imdb_link:"",actor_1_name:"",actor_2_name:"",actor_3_name:"",title_year:"",imdb_score:"",fan_art:""}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error while adding the movie: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return console.log("estas en updatemovieee",this.state),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"edit-form"},r.a.createElement("h2",null,"Update the Movie"),r.a.createElement("label",{htmlFor:""},"Name"),r.a.createElement("input",{className:"input",type:"text",name:"movie_title",value:this.state.movie_title,placeholder:this.state.movie_title,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Genre"),r.a.createElement("input",{className:"input",type:"text",name:"genres",value:this.state.genres,placeholder:this.state.genres,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Director Name: "),r.a.createElement("input",{className:"input",type:"text",name:"director_name",value:this.state.director_name,placeholder:this.state.director_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Description: "),r.a.createElement("textarea",{type:"textarea",rows:"10",cols:"50",name:"description",value:this.state.description,textarea:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Rating: "),r.a.createElement("input",{className:"input",type:"text",name:"content_rating",value:this.state.content_rating,placeholder:this.content_rating,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Country: "),r.a.createElement("input",{className:"input",type:"text",name:"country",value:this.state.country,placeholder:this.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Language: "),r.a.createElement("input",{className:"input",type:"text",name:"language",value:this.state.language,placeholder:this.language,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"IMDB Link:"),r.a.createElement("input",{className:"input",type:"text",name:"movie_imdb_link",value:this.state.movie_imdb_link,placeholder:this.movie_imdb_link,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Actor 1 name:"),r.a.createElement("input",{className:"input",type:"text",name:"actor_1_name",value:this.state.actor_1_name,placeholder:this.actor_1_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Actor 2 name:"),r.a.createElement("input",{className:"input",type:"text",name:"actor_2_name",value:this.state.actor_2_name,placeholder:this.actor_2_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Actor 3 name:"),r.a.createElement("input",{className:"input",type:"text",name:"actor_3_name",value:this.state.actor_3_name,placeholder:this.actor_3_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"IMDB Score:"),r.a.createElement("input",{className:"input",type:"text",name:"imdb_score",value:this.state.imdb_score,placeholder:this.imdb_score,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Year:"),r.a.createElement("input",{className:"input",type:"text",name:"title_year",value:this.state.title_year,placeholder:this.title_year,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:""},"Select poster:"),r.a.createElement("input",{className:"input",type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("label",{htmlFor:""},"Select fan art:"),r.a.createElement("input",{className:"input",type:"file",onChange:function(t){return e.handleFileUpload2(t)}}),r.a.createElement("button",{className:"boton azul",type:"submit"},"Update the movie")))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:{}},e.getDetailsMovie=Object(C.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getDetailsMovie(e.props.match.params.id);case 2:a=t.sent,e.setState({movie:a});case 4:case"end":return t.stop()}}),t)}))),e.deleteMovie=Object(C.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.deleteMovie(e.props.match.params.id);case 2:e.props.history.push("/popular");case 3:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getDetailsMovie()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.movie;return r.a.createElement("div",{classname:"background-details",style:{backgroundImage:"url(".concat(t.fan_art,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{className:"padding-top-details"}," "),r.a.createElement("div",{class:"cellphone-container"},r.a.createElement("div",{class:"movie2"},r.a.createElement("div",{class:"movie-img",style:{backgroundImage:"url(".concat(t.poster,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),r.a.createElement("div",{class:"text-movie-cont"},r.a.createElement("div",{class:"mr-grid"},r.a.createElement("div",{class:"coll1"},r.a.createElement("h1",null,t.movie_title),r.a.createElement("ul",{class:"movie-gen"},r.a.createElement("li",null,t.content_rating,"  /"),r.a.createElement("li",null,t.duration," min  /"),r.a.createElement("li",null,t.genres)))),r.a.createElement("div",{class:"mr-grid summary-row"},r.a.createElement("div",{class:"col2"},r.a.createElement("h5",{className:" h5-details"},"SUMMARY")),r.a.createElement("div",{class:"col2"},r.a.createElement("ul",{class:"movie-likes"},r.a.createElement("li",null,"Likes: ",t.num_voted_users)))),r.a.createElement("div",{class:"mr-grid"},r.a.createElement("div",{class:"col1"},r.a.createElement("p",{class:"movie-description"},t.description))),r.a.createElement("div",{class:"mr-grid actors-row"},r.a.createElement("div",{class:"col1"},r.a.createElement("p",{class:"movie-actors"},"Director: ",t.director_name),r.a.createElement("p",{class:"movie-actors"},"Actors: ",t.actor_1_name,", ",t.actor_2_name,", ",t.actor_3_name),r.a.createElement("p",{class:"movie-actors"},"Imdb Score: ",t.imdb_score)))))),r.a.createElement("div",{className:"align-delete"},r.a.createElement(M.a,{onClick:function(){return e.deleteMovie(t._id)},className:"primary",variant:"primary",size:"sm",active:!0},"Delete"),r.a.createElement(M.a,{className:"primary",variant:"primary",size:"sm",active:!0},r.a.createElement("a",{href:"/credits"},"View..."))))}}]),a}(n.Component);function q(){return r.a.createElement("div",{className:"container2"},r.a.createElement("div",{class:"wrapper"},r.a.createElement("div",{class:"movie1"},"MOVIE DIC"),r.a.createElement("div",{class:"job"},"Directed By : "),r.a.createElement("div",{class:"name"},"CARLOS CURTIDO"),r.a.createElement("div",{class:"name"},"AND JOSE LUIS BLASCO"),r.a.createElement("div",{class:"job"},"Code master:"),r.a.createElement("div",{class:"name"},"DANIEL DE SOUSA"),r.a.createElement("div",{class:"job"},"In the lightings:"),r.a.createElement("div",{class:"name"},"Marina Urbano"),r.a.createElement("div",{class:"job"},"Camera:"),r.a.createElement("div",{class:"name"},"Juli\xe1n Abasolo"),r.a.createElement("div",{class:"job"},"Postproduction:"),r.a.createElement("div",{class:"name"},"Leandro Loi\xe1cono"),r.a.createElement("div",{class:"job"},"Casting"),r.a.createElement("div",{class:"name"},"Meritxell Vallribera"),r.a.createElement("div",{class:"job"},"Especial Effects"),r.a.createElement("div",{class:"name"},"Alberto Polanco"),r.a.createElement("div",{class:"job"},"Soundtrack"),r.a.createElement("div",{class:"name"},"Marta Camacho"),r.a.createElement("div",{class:"job"},"Art Director"),r.a.createElement("div",{class:"name"},"Xavier Caparr\xf3s"),r.a.createElement("div",{class:"job"},"Bad of the movie"),r.a.createElement("div",{class:"name"},"Eric Blair"),r.a.createElement("div",{class:"job"},"Stills Photographer"),r.a.createElement("div",{class:"name"},"Marc Sadurn\xed"),r.a.createElement("div",{class:"job"},"Y agradecer a todos los compa\xf1eros"),r.a.createElement("div",{class:"job"},"sin vosotros esto no hubiera sido posible:"),r.a.createElement("div",{class:"name"},"Erifily"),r.a.createElement("div",{class:"name"},"Christian"),r.a.createElement("div",{class:"name"},"Esteve"),r.a.createElement("div",{class:"name"},"Ona"),r.a.createElement("div",{class:"name"},"Alejandro"),r.a.createElement("div",{class:"name"},"Roi"),r.a.createElement("div",{class:"name"},"Andreu N"),r.a.createElement("div",{class:"name"},"Andreu SC"),r.a.createElement("div",{class:"name"},"Carla"),r.a.createElement("div",{class:"name"},"Jonhatan"),r.a.createElement("div",{class:"name"},"Mathilde"),r.a.createElement("div",{class:"name"},"Oscar"),r.a.createElement("div",{class:"name"},"Raiza"),r.a.createElement("div",{class:"name"},"Sara"),r.a.createElement("div",{class:"name"},"Claudia"),r.a.createElement("div",{class:"name"},"Alex"),r.a.createElement("div",{class:"name"},"Adri\xe0"),r.a.createElement("div",{class:"name"},"Adri\xe1n"),r.a.createElement("div",{class:"name"},"Mar"),r.a.createElement("div",{class:"name"},"Cristina"),r.a.createElement("div",{class:"name"},"Samantha")))}var K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],user:[],filterMovies:[]},e}return Object(o.a)(a,[{key:"render",value:function(){return console.log("STATE PAGINA DESPU\xc9S",this.state.pagina),r.a.createElement("div",{className:"appjs"},r.a.createElement(_,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(p.d,null,r.a.createElement(D,{path:"/signup",component:w})," ",r.a.createElement(D,{path:"/login",component:j})," ",r.a.createElement(L,{user:this.props.user,path:"/popular",component:B}),r.a.createElement(L,{path:"/credits",component:q}),r.a.createElement(L,{path:"/create",component:Y}),r.a.createElement(L,{path:"/random",component:G}),r.a.createElement(L,{path:"/upload/:id",component:W}),r.a.createElement(L,{user:this.props.user,path:"/movies",component:function(){return r.a.createElement(J,null)}}),r.a.createElement(L,{path:"/details/:id",component:X}),r.a.createElement(L,{path:"/private",component:A}),r.a.createElement(p.b,{path:"/",component:z})))),r.a.createElement(H,null))}}]),a}(n.Component);s.a.render(r.a.createElement(l.a,null,r.a.createElement(K,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0bb7554d.chunk.js.map